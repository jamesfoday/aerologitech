{% extends "base.html" %}
{% load static %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock %}

{% block content %}
<div class="order-detail-wrap container py-4">
  <div class="order-card card p-4 round-24">
    <a href="{% url 'orders:list' %}" class="orders-back d-inline-flex align-items-center text-decoration-none mb-3">
      <i class="bi bi-chevron-left me-1"></i> Back
    </a>

    <h4 class="mb-3">Order</h4>

    <div class="row g-3">
      <div class="col-md-6">
        <div class="detail-line"><span class="key">Category:</span> <span class="val">{{ o.get_category_display|default:o.category }}</span></div>
        <div class="detail-line"><span class="key">Amount:</span> <span class="val">€{{ o.amount }} {{ o.currency|default:"" }}</span></div>
        <div class="detail-line"><span class="key">Status:</span> <span class="val"><span class="badge-soft">{{ o.status|default:"—" }}</span></span></div>
        <div class="detail-line"><span class="key">Customer:</span> <span class="val">{{ o.customer_name|default:"—" }}</span></div>
      </div>
      <div class="col-md-6">
        <div class="detail-line"><span class="key">Date:</span> <span class="val">{{ o.created_at|date:"M d, Y H:i" }}</span></div>
        {% if o.user %}
          <div class="detail-line"><span class="key">User:</span> <span class="val">{{ o.user.get_full_name|default:o.user.username }}</span></div>
        {% endif %}
      </div>
    </div>

    {% if o.meta %}
      <hr class="my-3">
      <h6 class="mb-2">Details</h6>
      <pre class="order-meta">{{ o.meta|json_script:"order-meta-json" }}</pre>
    {% endif %}
  </div>
</div>
{% endblock %}
